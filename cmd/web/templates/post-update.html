<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
    <link rel="stylesheet" href="/assets/styles/categories.post-creation.css">
    <link rel="stylesheet" href="/assets/styles/post-input.post-creation.css">
    <link rel="stylesheet" href="/assets/styles/global.css">
    <link rel="stylesheet" href="/assets/styles/nav.global.css">
    <link rel="stylesheet" href="/assets/styles/buttons.global.css">
    <link rel="stylesheet" href="/assets/styles/dropdown.global.css">
    <link rel="stylesheet" href="/assets/styles/responsive.global.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">
    <title>echoHub - Post Update</title>

</head>

<body>
    <nav>
        <a href="home.html" class="logo">
            <img src="/static/imgs/echoHub-Logo_SM-Purple.png" alt="echoHub-Comunnity Logo">
        </a>
        <a href="post-create.html"><button class="create"><img src="./imgs/create.png"></i>Create
                Post</button></a>
        <div class="profile-dropdown">
            <div class="profile-picture-container">
                <img class="profile-picture" src="./imgs/avatar.png" alt="Profile Picture" loading="lazy">
            </div>
            <div class="dropdown">
                <img src="./imgs/avatar.png" alt="Profile Picture">
                <h2>@unkind<br><span>unkind@mail.com</span></h2>
                <hr>
                <div class="dropdown-content">
                    <a href="#">Profile Settings</a>
                    <a href="#">Dark Mode (coming soon)</a>
                    <hr>
                    <a href="#">Log Out</a>
                </div>
            </div>
        </div>
    </nav>
    <div class="wraper wraper-extra">
        <ul class="categories">
            {{range .Categories}}
            <li class="category">
                <input type="checkbox" id="category{{.ID}}" name="categoryElement">
                <label for="category{{.ID}}"><img src="{{.CategoryIconPath}}">{{.CategoryName}}</label>
            </li>
            {{end}}
        </ul>
        <div class="post-inputs"><label for="post-title">
                <input type="text" id="post-title" placeholder="Post Title *" value="{{.Title}}" required>
            </label>
            <textarea name="" id="" placeholder="Type Something here...">{{.Content}}</textarea>
            <button type="submit"><img src="./imgs/send.png">Post</button>
        </div>
    </div>
    <script src="/scripts/post-creation.js"></script>
    <script>
        const selected = {{.Categories_selected }};
        const categories = document.querySelectorAll('[id^="category_"]');
        categories.forEach(category => {
            if (selected.includes(category.value)) {
                category.setAttribute("checked", "true")
            }
        });
    </script>
</body>

</html>